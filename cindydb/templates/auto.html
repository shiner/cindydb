{% extends 'index.html' %}

{% block heading %}
    {{ super() }}
    {% block page %}Auto{% endblock %}
{% endblock %}

{% block dropdownpark %}
    <script src="../static/js/jquery.js"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    {{ super() }}
{% endblock %}


{% block content %}

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.1/bootstrap-table.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.1/bootstrap-table.min.js"></script>

    <!-- Page Heading -->
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">
                Automobili
            </h1>
        </div>
    </div>
    <!-- /.row -->

    <div class="row">
        <div class="col-lg-12">
            <div id="toolbar" >
                <form id="insert" action="{{ url_for('new_auto') }}">
                    <button id="insert" type="submit" class="btn btn-success">
                        <i class="glyphicon glyphicon-plus"></i> Inserisci</button>
                </form>
            </div>
            <table id="table" class="table table-hover table-striped"
                   data-sort-name="stargazers_count"
                   data-sort-order="desc"
                   data-search="true"
                   data-show-toggle="true"
                   data-show-columns="true"
                   data-click-to-select="true"
                   data-pagination="true"
                   data-toolbar="#toolbar">
                <thead>
                <tr>
                    {% for column in schema_to_view %}
                        <th data-sortable="true" data-field={{column}}>{{column}}</th>
                    {% endfor %}
                </tr>
                </thead>
            </table>
        </div>
    </div>

    <script type=text/javascript>

        $(function () {
            $('#table').bootstrapTable({
                data: {{ results|safe }}
            });
        });

    </script>

{% endblock %}